model Order {
  id                 Int          @id @default(autoincrement())
  orderId            String?      @unique
  userId             String
  merchantId         String
  addressId          String?
  statusId           Int         @default(1)
  orderStatus        OrderStatus @relation(fields: [statusId], references: [id])
  subTotalAmount     Float        @default(0)
  totalAmount        Float        @default(0)
  shippingAmount     Float        @default(0)
  gst                Float        @default(0)
  discount           Float        @default(0)
  packingCharges     Float        @default(0)
  convenienceCharges Float        @default(0)
  scheduleOrderDate  String?
  deliveryTypeId     String?
  trackingLink       String?      @default("")
  paymentCompletedAt DateTime?
  createdAt          DateTime     @default(now())
  updatedAt          DateTime     @updatedAt
  orderItems         OrderItem[]  // Relation to OrderItem
}

model OrderItem {
  id              Int      @id @default(autoincrement())
  orderId         Int
  productId       String
  productName     String
  quantity        Int
  sellingPrice    Float
  actualPrice     Float
  packagingCharge Float    @default(0)
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
  order           Order    @relation(fields: [orderId], references: [id]) // Relation to Order
  addons          Addon[]  @relation("OrderItemAddons")
}

model Addon {
  id          Int       @id @default(autoincrement())
  orderItemId Int
  groupName   String
  choices     Json
  orderItem   OrderItem @relation("OrderItemAddons", fields: [orderItemId], references: [id])
}

model OrderStatus {
  id     Int     @id @default(autoincrement())
  name   String
  image  String?
  orders Order[]
}
